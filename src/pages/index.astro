---
import { getCollection } from 'astro:content';
import Base from '@layouts/Base.astro';
import { getEntryBySlug } from 'astro:content';
import Intro from '@components/Intro.astro';
import Services from '@components/Services.astro';
import Testimonials from '@components/Testimonials.astro';

const homepage = await getEntryBySlug('homepage', 'index');
const { intro, services, testimonials } = homepage.data;
const posts = (await getCollection('blog')).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<Base>
  <Intro intro={intro} />
  <Services services={services} />
  <Testimonials testimonials={testimonials} < Base />
</Base>
